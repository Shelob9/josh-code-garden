{"pageProps":{"note":{"title":"Next.js","content":"A [[react]] static site generator\r\n\r\n\r\n## Adding Testing With Jest\r\n\r\n> See [[gh-actions-vercel.md]]\r\n\r\n- [Setup Jest](https://medium.com/frontend-digest/setting-up-testing-library-with-nextjs-a9702cbde32d)\r\n- [If using CSS Modules, mock CSS modules](https://jestjs.io/docs/en/webpack#mocking-css-modules)\r\n- If using fetch add polyfill to setupTests.js\r\n  - `import \"cross-fetch/polyfill\";`\r\n- Add Github Action:\r\n\r\n```yml\r\nname: CI\r\non: push\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Install\r\n        run: yarn\r\n      - name: Run tests\r\n        run: yarn test --ci\r\n```\r\n\r\n## Window undefined\r\n\r\nhttps://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr\r\n\r\n```jsx\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst DynamicComponentWithNoSSR = dynamic(\r\n\t() => import(\"../components/hello3\"),\r\n\t{ ssr: false } //Important Part\r\n);\r\n\r\nfunction Home() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\t\t\t<DynamicComponentWithNoSSR />\r\n\t\t\t<p>HOME PAGE is here!</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n```\r\n\r\n## Next.js With MDX and TypeScript\r\n\r\n- https://sergiodxa.com/articles/next-tailwind\r\n- https://codeconqueror.com/blog/building-a-blog-with-next-js\r\n- `yarn create next-app --example with-mdx with-mdx-app`\r\n- Modify pageExtensions in withMdx config to include 'ts' and 'tsx'. Do this in next.config.js\r\n  - Without this, adding `/pages/about.js` would work, but no `/pages/about.tsx`\r\n\r\n```js\r\nconst withMDX = require(\"@next/mdx\")({\r\n\textension: /\\.mdx?$/,\r\n});\r\nmodule.exports = withMDX({\r\n\tpageExtensions: [\"js\", \"jsx\", \"mdx\", \"tsx\", \"ts\"],\r\n});\r\n```\r\n\r\n## Ad TypeScript To nextjs\r\n\r\n- [Building Tailwind's Blog with Tailwind and NextJS](https://blog.tailwindcss.com/building-the-tailwind-blog)\r\n- [Tailwing + NextJS Tutorial](https://dev.to/notrab/get-up-and-running-with-tailwind-css-and-next-js-3a73)\r\n- [NextJS + Tailwind Example](https://github.com/tailwindlabs/tailwindcss-setup-examples/blob/master/examples/nextjs)\r\n\r\n1. `yarn add tailwindcss postcss-import autoprefixer @fullhuman/postcss-purgecss`\r\n2. `yarn tailwind init`\r\n3. Create postcss.config.js\r\n\r\n```js\r\nmodule.exports = {\r\n\tplugins: [\"tailwindcss\", \"autoprefixer\"],\r\n};\r\n```\r\n\r\n3. tailwind.config.js\r\n\r\n```js\r\nmodule.exports = {\r\n\ttheme: {\r\n\t\textend: {},\r\n\t},\r\n\tvariants: {},\r\n\tplugins: [],\r\n\tfuture: {\r\n\t\tremoveDeprecatedGapUtilities: true,\r\n\t},\r\n\tpurge: {\r\n\t\tmode: \"all\",\r\n\t\tcontent: [\r\n\t\t\t\"pages/**/*.js\",\r\n\t\t\t\"pages/**/*.tsx\",\r\n\t\t\t\"components/**/*.js\",\r\n\t\t\t\"components/**/*.tsx\",\r\n\t\t],\r\n\t\toptions: {\r\n\t\t\tkeyframes: true,\r\n\t\t},\r\n\t},\r\n};\r\n```\r\n\r\n","slug":"next","references":[{"slug":"react","url":"/notes/react"}]},"slug":"next"},"__N_SSG":true}