<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@JoshBotDotJs"/><meta name="twitter:creator" content="@josh412"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Code Meadow"/><title>Chrome Extension Development | Code Meadow</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="## Chrome Extension That Adds A Right Click Menu Item

```json
{
	&quot;name&quot;: &quot;Select Text&quot;,
	&quot;description&quot;: &quot;Logs selected text, url and page title&quot;,
	&quot;version&quot;: &quot;0.6&quot;,
	&quot;permissions&quot;: [&quot;contextMenus&quot;],
	&quot;background&quot;: {
		&quot;scripts&quot;: ["/><meta property="og:title" content="Chrome Extension Development"/><meta property="og:description" content="Notes about Chrome Extension Development by Josh Pollock"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/1ed3552f87ef397672f7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1ed3552f87ef397672f7.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-e4ef205fca5d93de439a.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.0aee811b7a2ba0b587bf.js" as="script"/><link rel="preload" href="/_next/static/chunks/eeb0540607e8d823f414da745296801d6a447ba7.858a4b022f4a82e30045.js" as="script"/><link rel="preload" href="/_next/static/chunks/e9acf14add5c4f122717233c5b8bc320320f96b1.9770bfbcaacf48f0cbd9.js" as="script"/><link rel="preload" href="/_next/static/chunks/3a4d373e4f729ad3d1487c5b24727311a83f72b6.1b64e79295a1df5d1055.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-82910f370745093ee7e6.js" as="script"/><link rel="preload" href="/_next/static/chunks/cf2f3e6cb2c7250386e9cd655729b7b20c55eb51.d50059c19d19ed2ffbbe.js" as="script"/><link rel="preload" href="/_next/static/chunks/65446de8fdf4c7aed854cb7642630d677689ed10.8f2b9d51a19826ed9b23.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/notes/%5Bslug%5D-33ce1adf9c0915fcb744.js" as="script"/></head><body><div id="__next"><div class="layout"><header id="header" role="banner"><a aria-current="page" class="" href="/"><span>Code Meadow</span></a><div class="controls"><button title="Show Graph visualisation" aria-label="Show Graph visualisation" class="graph-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" class="graph-closed"><g fill="none" stroke-width="2"><circle cx="11.733" cy="3.181" r="1.902"></circle><circle cx="16.864" cy="10.861" r="1.902"></circle><circle cx="7.47" cy="16.822" r="1.902"></circle><circle cx="3.046" cy="6.275" r="1.902"></circle><circle cx="9.372" cy="10.861" r="1.902"></circle><line x1="11.635" x2="14.655" y1="10.861" y2="10.861"></line><line x1="10" x2="10.895" y1="8.959" y2="5.573"></line><line x1="7.47" x2="4.5" y1="9.68" y2="7.5"></line><line x1="8.25" x2="8.809" y1="14.92" y2="13.088"></line></g></svg></button><label class="dark-mode-toggle" aria-label="Activate dark mode" title="Activate dark mode"><input type="checkbox" checked=""/><div></div></label></div></header><main><div class="note-columns-scrolling-container"><div class="note-columns-container"><div class="note-container note-open note-focus animate-pulse opacity-40"><div class="note-buttons"></div><div id="" class="note-content"><h1 class="animate-pulse">Chrome Extension Development</h1><div class="prose note-markdown"><h2 class="mb-4"> <!-- -->Chrome Extension That Adds A Right Click Menu Item</h2>
<pre><code>{
	&quot;name&quot;: &quot;Select Text&quot;,
	&quot;description&quot;: &quot;Logs selected text, url and page title&quot;,
	&quot;version&quot;: &quot;0.6&quot;,
	&quot;permissions&quot;: [&quot;contextMenus&quot;],
	&quot;background&quot;: {
		&quot;scripts&quot;: [&quot;index.js&quot;]
	},
	&quot;manifest_version&quot;: 2
}
</code></pre>
<pre><code>function genericOnClick(info, tab) {
	console.log(&quot;item &quot; + info.menuItemId + &quot; was clicked&quot;);

	const selectionText = info.hasOwnProperty(&quot;selectionText&quot;)
		? info.selectionText
		: &quot;&quot;;

	const { title, url } = tab;
	console.log(selectionText, title, url);
}

// Create one test item for each context type.
var contexts = [
	&quot;page&quot;,
	&quot;selection&quot;,
	&quot;link&quot;,
	&quot;editable&quot;,
	&quot;image&quot;,
	&quot;video&quot;,
	&quot;audio&quot;,
];
for (var i = 0; i &lt; contexts.length; i++) {
	var context = contexts[i];
	var title = &quot;Test &#x27;&quot; + context + &quot;&#x27; menu item&quot;;
	var id = chrome.contextMenus.create({
		title: title,
		contexts: [context],
		onclick: genericOnClick,
	});
}
</code></pre></div></div></div><div id="" class="note-content">Two</div></div></div></main><footer class="bg-white dark:bg-gray-300 border-t border-gray-500 shadow"><div class="container mx-auto flex py-8"><div class="w-full mx-auto flex flex-wrap"><div class="flex w-full lg:w-1/2 "><div class="px-8"><h3 class="font-bold text-gray-900"><a href="/about">About</a></h3><p class="py-4 text-gray-600 text-sm">By <!-- -->Josh Pollock<!-- -->. Built with <a href="https://digitalgardenbuilder.app/" target="_blank" rel="noopener noreferrer">Digital Garden Builder</a></p></div></div><div class="flex w-full lg:w-1/2 lg:justify-end lg:text-right"><div class="px-8"><h3 class="font-bold text-gray-900">Social</h3><ul class="list-reset items-center text-sm pt-3"><li><a class="inline-block text-gray-600 no-underline hover:text-gray-900 hover:underline py-1" href="https://twitter.com/@josh412">Twitter</a></li></ul></div></div><div class="flex w-full lg:justify-end lg:text-right"></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"title":"Chrome Extension Development","content":"## Chrome Extension That Adds A Right Click Menu Item\r\n\r\n```json\r\n{\r\n\t\"name\": \"Select Text\",\r\n\t\"description\": \"Logs selected text, url and page title\",\r\n\t\"version\": \"0.6\",\r\n\t\"permissions\": [\"contextMenus\"],\r\n\t\"background\": {\r\n\t\t\"scripts\": [\"index.js\"]\r\n\t},\r\n\t\"manifest_version\": 2\r\n}\r\n```\r\n\r\n```js\r\nfunction genericOnClick(info, tab) {\r\n\tconsole.log(\"item \" + info.menuItemId + \" was clicked\");\r\n\r\n\tconst selectionText = info.hasOwnProperty(\"selectionText\")\r\n\t\t? info.selectionText\r\n\t\t: \"\";\r\n\r\n\tconst { title, url } = tab;\r\n\tconsole.log(selectionText, title, url);\r\n}\r\n\r\n// Create one test item for each context type.\r\nvar contexts = [\r\n\t\"page\",\r\n\t\"selection\",\r\n\t\"link\",\r\n\t\"editable\",\r\n\t\"image\",\r\n\t\"video\",\r\n\t\"audio\",\r\n];\r\nfor (var i = 0; i \u003c contexts.length; i++) {\r\n\tvar context = contexts[i];\r\n\tvar title = \"Test '\" + context + \"' menu item\";\r\n\tvar id = chrome.contextMenus.create({\r\n\t\ttitle: title,\r\n\t\tcontexts: [context],\r\n\t\tonclick: genericOnClick,\r\n\t});\r\n}\r\n```\r\n","slug":"chrome-extension","references":[]},"slug":"chrome-extension"},"__N_SSG":true},"page":"/notes/[slug]","query":{"slug":"chrome-extension"},"buildId":"V8vhMAvnixZeM-ruBVsWZ","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-1031cf0bba78a873b9b2.js"></script><script src="/_next/static/chunks/main-e4ef205fca5d93de439a.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.0aee811b7a2ba0b587bf.js" async=""></script><script src="/_next/static/chunks/eeb0540607e8d823f414da745296801d6a447ba7.858a4b022f4a82e30045.js" async=""></script><script src="/_next/static/chunks/e9acf14add5c4f122717233c5b8bc320320f96b1.9770bfbcaacf48f0cbd9.js" async=""></script><script src="/_next/static/chunks/3a4d373e4f729ad3d1487c5b24727311a83f72b6.1b64e79295a1df5d1055.js" async=""></script><script src="/_next/static/chunks/pages/_app-82910f370745093ee7e6.js" async=""></script><script src="/_next/static/chunks/cf2f3e6cb2c7250386e9cd655729b7b20c55eb51.d50059c19d19ed2ffbbe.js" async=""></script><script src="/_next/static/chunks/65446de8fdf4c7aed854cb7642630d677689ed10.8f2b9d51a19826ed9b23.js" async=""></script><script src="/_next/static/chunks/pages/notes/%5Bslug%5D-33ce1adf9c0915fcb744.js" async=""></script><script src="/_next/static/V8vhMAvnixZeM-ruBVsWZ/_buildManifest.js" async=""></script><script src="/_next/static/V8vhMAvnixZeM-ruBVsWZ/_ssgManifest.js" async=""></script></body></html>