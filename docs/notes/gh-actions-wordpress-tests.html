<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@JoshBotDotJs"/><meta name="twitter:creator" content="@josh412"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Code Meadow"/><title>Github Actions For Vercel | Code Meadow</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Recently at [Saturday Drive](https://saturdaydrive.com) we migrated from self-hosted GitLab to Github. I worked on migrating the [[wordpress]] plugins to [[wordpress]] and helped with the [[laravel]] apps, which were easier.

Caldera Forms "/><meta property="og:title" content="Github Actions For Vercel"/><meta property="og:description" content="Notes about Github Actions For Vercel by Josh Pollock"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/c9886a1c6163f1b1a6d5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c9886a1c6163f1b1a6d5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-932037746d5fbfa6c5b9.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.5a465c16793c1ce81103.js" as="script"/><link rel="preload" href="/_next/static/chunks/eeb0540607e8d823f414da745296801d6a447ba7.be5782a331160012741e.js" as="script"/><link rel="preload" href="/_next/static/chunks/e9acf14add5c4f122717233c5b8bc320320f96b1.4f88856bcd1b60da9b7b.js" as="script"/><link rel="preload" href="/_next/static/chunks/3a4d373e4f729ad3d1487c5b24727311a83f72b6.1e85bf9a6905759fb0eb.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-57033a99102944c4fbcd.js" as="script"/><link rel="preload" href="/_next/static/chunks/cf2f3e6cb2c7250386e9cd655729b7b20c55eb51.ac8d4cfb4548f21b4362.js" as="script"/><link rel="preload" href="/_next/static/chunks/65446de8fdf4c7aed854cb7642630d677689ed10.e809271015f58d945807.js" as="script"/><link rel="preload" href="/_next/static/chunks/57df46b1176d072649847ada4d0bda061dd08de4.faaedf38e9806d0086db.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/notes/%5Bslug%5D-1d996e4224c7bf172e60.js" as="script"/></head><body><div id="__next"><div class="layout"><header id="header" role="banner"><a aria-current="page" class="" href="/"><span>Code Meadow</span></a><div class="controls"><button title="Show Graph visualisation" aria-label="Show Graph visualisation" class="graph-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" class="graph-closed"><g fill="none" stroke-width="2"><circle cx="11.733" cy="3.181" r="1.902"></circle><circle cx="16.864" cy="10.861" r="1.902"></circle><circle cx="7.47" cy="16.822" r="1.902"></circle><circle cx="3.046" cy="6.275" r="1.902"></circle><circle cx="9.372" cy="10.861" r="1.902"></circle><line x1="11.635" x2="14.655" y1="10.861" y2="10.861"></line><line x1="10" x2="10.895" y1="8.959" y2="5.573"></line><line x1="7.47" x2="4.5" y1="9.68" y2="7.5"></line><line x1="8.25" x2="8.809" y1="14.92" y2="13.088"></line></g></svg></button><label class="dark-mode-toggle" aria-label="Activate dark mode" title="Activate dark mode"><input type="checkbox" checked=""/><div></div></label></div></header><div class="note-columns-scrolling-container"><div class="note-columns-container"><div class="note-container note-open note-focus animate-pulse opacity-40"><div class="note-buttons"></div><div id="" class="note-content"><h1 class="animate-pulse">Github Actions For Vercel</h1><p>Recently at <a href="https://saturdaydrive.com">Saturday Drive</a> we migrated from self-hosted GitLab to Github. I worked on migrating the <a href="/notes/wordpress">wordpress</a> plugins to <a href="/notes/wordpress">wordpress</a> and helped with the <a href="/notes/laravel">laravel</a> apps, which were easier.</p>
<p>Caldera Forms was already on Github, but not using Github actions. We set up actions for Caldera Forms first, to learn how, with the least other steps and then applied what we learned to Ninja Forms and other repos.</p>
<p>In the post I&#x27;ll share some of what we learned. A lot of how we figured this out was I did the first pass and then Nico made it actually work. So a lot of credit goes to him for that and figuring out the end to end testing parts, which are really cool.</p>
<h2>Other Examples</h2>
<ul>
<li>https://github.com/wp-cli/scaffold-command/pull/257#issuecomment-636308643</li>
<li>https://github.com/wp-cli/scaffold-command/blob/f9bad3dd7224d5684d950d31c486df70905e386f/templates/plugin-github.mustache</li>
</ul>
<h2>Caldera Forms</h2>
<p>In <a href="https://calderaforms.com">Caldera Forms</a>, <a href="https://twitter.com/nicofigueira">Nico</a> <a href="https://github.com/CalderaWP/Caldera-Forms/pull/3575">ended up using</a> the same docker-compose file as we use for local dev in the Github action.</p>
<p>While we were working on this migration, we upgraded to phpunit 7, which required a new dockerfile](https://github.com/CalderaWP/Caldera-Forms/blob/develop/bin/docker/phpunit/DOCKERFILE). If you read the inline docs on that dockerfile, you&#x27;ll see it links to the files its based on. I needed to get phpunit 7 and a few more dependencies into an image, and the phpunit 7 docker iamges didn&#x27;t have that tag, but the file was on Github for me to base mine on.</p>
<p>I extracted that dockerfile to it&#x27;s <a href="https://github.com/Shelob9/wordpress-phpunit/">own repo</a>. I <a href="https://github.com/Shelob9/wordpress-phpunit/actions">used actions</a> to publish the <a href="https://github.com/Shelob9/wordpress-phpunit/packages/308041">image</a>. Which is cool, I&#x27;d never used Github package registry.</p>
<p>Pull request: https://github.com/CalderaWP/Caldera-Forms/pull/3579</p></div></div></div></div><footer class="bg-white dark:bg-gray-500 border-t border-gray-400 shadow"><div class="container mx-auto flex py-8"><div class="w-full mx-auto flex flex-wrap"><aside class="flex w-full lg:w-1/2 "><div class="px-8"><h3 class="font-bold text-gray-900"><a href="/about">About</a></h3><p class="py-4 text-gray-600 text-sm">By <!-- -->Josh Pollock<!-- -->. Built with <a href="https://digitalgardenbuilder.app/" target="_blank" rel="noopener noreferrer">Digital Garden Builder</a></p></div></aside><aside class="flex w-full lg:w-1/2 lg:justify-end lg:text-right"><div class="px-8"><h3 class="font-bold text-gray-900">Social</h3><ul class="list-reset items-center text-sm pt-3"><li><a class="inline-block text-gray-600 no-underline hover:text-gray-900 hover:underline py-1" href="https://twitter.com/@josh412">Twitter</a></li></ul></div></aside><aside class="flex w-full lg:justify-end lg:text-right"></aside></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"title":"Github Actions For Vercel","content":"Recently at [Saturday Drive](https://saturdaydrive.com) we migrated from self-hosted GitLab to Github. I worked on migrating the [[wordpress]] plugins to [[wordpress]] and helped with the [[laravel]] apps, which were easier.\n\nCaldera Forms was already on Github, but not using Github actions. We set up actions for Caldera Forms first, to learn how, with the least other steps and then applied what we learned to Ninja Forms and other repos.\n\nIn the post I'll share some of what we learned. A lot of how we figured this out was I did the first pass and then Nico made it actually work. So a lot of credit goes to him for that and figuring out the end to end testing parts, which are really cool.\n\n## Other Examples\n\n- https://github.com/wp-cli/scaffold-command/pull/257#issuecomment-636308643\n- https://github.com/wp-cli/scaffold-command/blob/f9bad3dd7224d5684d950d31c486df70905e386f/templates/plugin-github.mustache\n\n## Caldera Forms\n\nIn [Caldera Forms](https://calderaforms.com), [Nico](https://twitter.com/nicofigueira) [ended up using](https://github.com/CalderaWP/Caldera-Forms/pull/3575) the same docker-compose file as we use for local dev in the Github action.\n\nWhile we were working on this migration, we upgraded to phpunit 7, which required a new dockerfile](https://github.com/CalderaWP/Caldera-Forms/blob/develop/bin/docker/phpunit/DOCKERFILE). If you read the inline docs on that dockerfile, you'll see it links to the files its based on. I needed to get phpunit 7 and a few more dependencies into an image, and the phpunit 7 docker iamges didn't have that tag, but the file was on Github for me to base mine on.\n\nI extracted that dockerfile to it's [own repo](https://github.com/Shelob9/wordpress-phpunit/). I [used actions](https://github.com/Shelob9/wordpress-phpunit/actions) to publish the [image](https://github.com/Shelob9/wordpress-phpunit/packages/308041). Which is cool, I'd never used Github package registry.\n\nPull request: https://github.com/CalderaWP/Caldera-Forms/pull/3579\n\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\n[wordpress]: wordpress \"WordPress\"\n[laravel]: laravel \"Laravel\"\n[//end]: # \"Autogenerated link references\"\n","slug":"gh-actions-wordpress-tests","references":[{"slug":"wordpress","url":"/notes/wordpress"},{"slug":"wordpress","url":"/notes/wordpress"},{"slug":"laravel","url":"/notes/laravel"}]},"slug":"gh-actions-wordpress-tests"},"__N_SSG":true},"page":"/notes/[slug]","query":{"slug":"gh-actions-wordpress-tests"},"buildId":"GAXEydES3XRNVbxFgliMh","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-b506a249e82f979c3e76.js"></script><script src="/_next/static/chunks/main-932037746d5fbfa6c5b9.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.5a465c16793c1ce81103.js" async=""></script><script src="/_next/static/chunks/eeb0540607e8d823f414da745296801d6a447ba7.be5782a331160012741e.js" async=""></script><script src="/_next/static/chunks/e9acf14add5c4f122717233c5b8bc320320f96b1.4f88856bcd1b60da9b7b.js" async=""></script><script src="/_next/static/chunks/3a4d373e4f729ad3d1487c5b24727311a83f72b6.1e85bf9a6905759fb0eb.js" async=""></script><script src="/_next/static/chunks/pages/_app-57033a99102944c4fbcd.js" async=""></script><script src="/_next/static/chunks/cf2f3e6cb2c7250386e9cd655729b7b20c55eb51.ac8d4cfb4548f21b4362.js" async=""></script><script src="/_next/static/chunks/65446de8fdf4c7aed854cb7642630d677689ed10.e809271015f58d945807.js" async=""></script><script src="/_next/static/chunks/57df46b1176d072649847ada4d0bda061dd08de4.faaedf38e9806d0086db.js" async=""></script><script src="/_next/static/chunks/pages/notes/%5Bslug%5D-1d996e4224c7bf172e60.js" async=""></script><script src="/_next/static/GAXEydES3XRNVbxFgliMh/_buildManifest.js" async=""></script><script src="/_next/static/GAXEydES3XRNVbxFgliMh/_ssgManifest.js" async=""></script></body></html>